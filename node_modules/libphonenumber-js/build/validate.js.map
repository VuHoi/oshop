{"version":3,"sources":["../source/validate.js"],"names":["is_valid","first_argument","second_argument","third_argument","input","metadata","Error","country","country_metadata","countries"],"mappings":";;;;;kBAsBwBA,Q;;AAtBxB;;;;AACA;;;;AAEA;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,QAAT,CAAkBC,cAAlB,EAAkCC,eAAlC,EAAmDC,cAAnD,EACf;AAAA,2BAC6B,uCAAmBF,cAAnB,EAAmCC,eAAnC,EAAoDC,cAApD,CAD7B;AAAA,KACSC,KADT,uBACSA,KADT;AAAA,KACgBC,QADhB,uBACgBA,QADhB;;AAGC;;;AACA,KAAI,CAACA,QAAL,EACA;AACC,QAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;AACA;;AAED,KAAI,CAACF,KAAL,EACA;AACC,SAAO,KAAP;AACA;;AAED,KAAI,CAACA,MAAMG,OAAX,EACA;AACC,SAAO,KAAP;AACA;;AAED,KAAMC,mBAAmBH,SAASI,SAAT,CAAmBL,MAAMG,OAAzB,CAAzB;;AAEA,KAAI,yBAAUC,gBAAV,CAAJ,EACA;AACC,MAAI,CAAC,6BAAgBJ,KAAhB,EAAuBC,QAAvB,CAAL,EACA;AACC,UAAO,KAAP;AACA;AACD;;AAED,QAAO,IAAP;AACA","file":"validate.js","sourcesContent":["import parse, { is_viable_phone_number } from './parse'\r\nimport get_number_type, { sort_out_arguments } from './get number type'\r\n\r\nimport\r\n{\r\n\tget_types\r\n}\r\nfrom './metadata'\r\n\r\n// Checks if a given phone number is valid\r\n//\r\n// Example use cases:\r\n//\r\n// ```js\r\n// is_valid('8005553535', 'RU')\r\n// is_valid('8005553535', 'RU', metadata)\r\n// is_valid({ phone: '8005553535', country: 'RU' })\r\n// is_valid({ phone: '8005553535', country: 'RU' }, metadata)\r\n// is_valid('+78005553535')\r\n// is_valid('+78005553535', metadata)\r\n// ```\r\n//\r\nexport default function is_valid(first_argument, second_argument, third_argument)\r\n{\r\n\tconst { input, metadata } = sort_out_arguments(first_argument, second_argument, third_argument)\r\n\r\n\t// Sanity check\r\n\tif (!metadata)\r\n\t{\r\n\t\tthrow new Error('Metadata not passed')\r\n\t}\r\n\r\n\tif (!input)\r\n\t{\r\n\t\treturn false\r\n\t}\r\n\r\n\tif (!input.country)\r\n\t{\r\n\t\treturn false\r\n\t}\r\n\r\n\tconst country_metadata = metadata.countries[input.country]\r\n\r\n\tif (get_types(country_metadata))\r\n\t{\r\n\t\tif (!get_number_type(input, metadata))\r\n\t\t{\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\treturn true\r\n}"]}