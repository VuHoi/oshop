{"version":3,"file":"pagination.component.js","sourceRoot":"","sources":["file:///D:/Prodaction/angular-4-data-table/src/components/pagination.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, Inject, forwardRef, Input} from '@angular/core';\r\nimport {DataTable} from './table.component';\r\nimport {PAGINATION_TEMPLATE} from './pagination.template';\r\nimport {PAGINATION_STYLE} from \"./pagination.style\";\r\n\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'data-table-pagination',\r\n    template: PAGINATION_TEMPLATE,\r\n    styles: [PAGINATION_STYLE]\r\n})\r\nexport class DataTablePagination {\r\n\r\n    @Input() show_range = false;\r\n    @Input() show_limit = false;\r\n    @Input() show_input = false;\r\n    @Input() show_numbers = true;\r\n\r\n    constructor(@Inject(forwardRef(() => DataTable)) public dataTable: DataTable) {\r\n    }\r\n\r\n    pageBack() {\r\n        this.dataTable.offset -= Math.min(this.dataTable.limit, this.dataTable.offset);\r\n    }\r\n\r\n    pageForward() {\r\n        this.dataTable.offset += this.dataTable.limit;\r\n    }\r\n\r\n    pageFirst() {\r\n        this.dataTable.offset = 0;\r\n    }\r\n\r\n    pageLast() {\r\n        this.dataTable.offset = (this.maxPage - 1) * this.dataTable.limit;\r\n    }\r\n\r\n    get maxPage() {\r\n        return Math.ceil(this.dataTable.itemCount / this.dataTable.limit);\r\n    }\r\n\r\n    get limit() {\r\n        return this.dataTable.limit;\r\n    }\r\n\r\n    set limit(value) {\r\n        this.dataTable.limit = Number(<any>value); // TODO better way to handle that value of number <input> is string?\r\n    }\r\n\r\n    get page() {\r\n        return this.dataTable.page;\r\n    }\r\n\r\n    set page(value) {\r\n        this.dataTable.page = Number(<any>value);\r\n    }\r\n\r\n    hasPrevious(number, page) {\r\n        const difference = this.getDifference();\r\n        if ((page - difference) > 1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hasNext(number, page) {\r\n        const difference = this.getDifference();\r\n        if ((number - page) > difference) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getDifference() {\r\n        const difference = 2;\r\n        return difference;\r\n    }\r\n\r\n    createPageRange(number, page): any[] {\r\n        let items: number[] = [];\r\n        if (number > 1) {\r\n            const difference = this.getDifference();\r\n            let maxPage = number;\r\n            let minPage = 1;\r\n            if ((number - page) >= difference) {\r\n                maxPage = page + difference;\r\n            }\r\n            if ((page - difference) >= 1) {\r\n                minPage = page - difference;\r\n            }\r\n            for (let i = minPage; i <= maxPage; i++) {\r\n                items.push(i);\r\n            }\r\n        }\r\n        return items;\r\n    }\r\n}\r\n"]}